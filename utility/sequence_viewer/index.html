<!DOCTYPE html>
<html>
<head>
  <title>YAML Viewer</title>
  <style>
    .container {
      display: flex;
    }

    .steps-panel {
      width: 200px;
      padding: 10px;
      background-color: #f1f1f1;
    }

    .steps-panel ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    .steps-panel li {
      margin-bottom: 5px;
      height: 20px;
      cursor: pointer;
    }


    .steps-panel li.active {
      font-weight: bold;
    }

    .content-panel {
      flex: 1;
      padding: 10px;
      background-color: #ffffff;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="steps-panel">
      <h2>Steps:</h2>
      <ul id="steps-list"></ul>
    </div>
    <div class="content-panel">
      <h2>YAML Content:</h2>
      <pre id="yaml-content"></pre>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
  <script>
    // Fetch steps data from an API endpoint
    fetch('https://raw.githubusercontent.com/92shreyansh/json-schema-store/v1.0.0/sequence.yaml')
    .then(response => response.text())
    .then(yamlData => jsyaml.load(yamlData))
      .then(steps => {
        const seq = steps.sequence;
        const stepsList = document.getElementById('steps-list');
        const yamlContent = document.getElementById('yaml-content');
      
        // Render the steps list
        seq.forEach((step, index) => {
          const li = document.createElement('li');
          li.textContent = seq[index];
          li.classList.add('step');
          li.dataset.index = index;
          stepsList.appendChild(li);
        });
      
        // Add click event listener to each step
        const stepElements = document.getElementsByClassName('step');
        Array.from(stepElements).forEach(step => {
          step.addEventListener('click', handleStepClick);
        });
      
        // Handle step click event
        function handleStepClick(event) {
          const clickedStep = event.target;
          const stepIndex = clickedStep.dataset.index;
      
          // Remove 'active' class from all steps
          Array.from(stepElements).forEach(step => {
            step.classList.remove('active');
          });
      
          // Add 'active' class to clicked step
          clickedStep.classList.add('active');
      
          // Get YAML content for the selected step index
          const selectedStep = steps[stepIndex];
          const parsedYaml = jsyaml.load(selectedStep.yaml);
          yamlContent.textContent = JSON.stringify(parsedYaml, null, 2);
        }
      })
      .catch(error => {
        console.error('Error fetching steps:', error);
      });
  </script>
</body>
</html>
